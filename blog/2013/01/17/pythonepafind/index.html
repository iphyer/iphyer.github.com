
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Python寻找环境保护署通车里程数 - 桑弧蓬矢射四方</title>
  <meta name="author" content="waventropy">

  
  <meta name="description" content="前言 这个程序是寻找美国环境保护署网站公布的美国各种车辆的通车历程数据。 具体的形式如下： CLASS	MFR	CAR LINE	DISPLACEMENT	NUMB CYL	TRANS	DRIVE SYS	INDEX NUMB	CITY MPG (GUIDE)	HWY MPG (GUIDE) &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://iphyer.github.com/blog/2013/01/17/pythonepafind/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="桑弧蓬矢射四方" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Ruge+Boogie|Ruthie|Flavors|Rancho|Galdeano' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Philosopher:[object Object],[object Object],[object Object],[object Object]' rel='stylesheet' type='text/css'>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-33194427-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">桑弧蓬矢射四方</a></h1>
  
    <h2>以桑弧蓬矢六，射天地四方。</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:iphyer.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about-us">About</a></li>
 </ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Python寻找环境保护署通车里程数</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-17T09:35:00+08:00" pubdate data-updated="true">Jan 17<span>th</span>, 2013</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><h1 id="section">前言</h1>

<p>这个程序是寻找美国环境保护署网站公布的美国各种车辆的通车历程数据。</p>

<p>具体的形式如下：</p>

<blockquote>
  <p>CLASS	MFR	CAR LINE	DISPLACEMENT	NUMB CYL	TRANS	DRIVE SYS	INDEX NUMB	CITY MPG (GUIDE)	HWY MPG (GUIDE)	COMB MPG (GUIDE)	UNRND CITY (EPA)	UNRND HWY (EPA)	UNRND COMP (EPA)	FUEL TYPE	GUZLR	TURBO	SPCHGR	AVG 2D PASS VOL	AVG 2D LUGG VOL	AVG 4D PAS VOL	AVG 4D LUGG VOL	AVG HB PAS VOL	AVG HB LUGG VOL	ANL FL CST	ENG BLK TXT	TRANS DESC TXT	VLVS PER CYL	CLS	REL DT	5C CODE</p>
</blockquote>

<blockquote>
  <p>TWO SEATERS	ASTON MARTIN	V8 VANTAGE	4.3	8	Auto(S6)	R	12	13	20	15	16.1945	27.4018	19.8474	P	G									3002		4MODE	4	1	6-Aug-07	DERIVED</p>
</blockquote>

<blockquote>
  <p>TWO SEATERS	ASTON MARTIN	V8 VANTAGE	4.3	8	Manual(M6)	R	11	12	19	15	15.2	25.7	18.6241	P	G									3002			4	1	6-Aug-07	DERIVED</p>
</blockquote>

<blockquote>
  <p>TWO SEATERS	AUDI	R8	4.2	8	Auto(S6)	4	19	13	19	15	16.1944	26.2	19.555	P	G									3002		3MODE CLKUP	4	1	17-Aug-07	DERIVED</p>
</blockquote>

<p>这里我们需要的是从零开始的第九列元素和第一列以及第二列元素。</p>

<!--more-->

<p>现在我们使用具体的程序去计算。这里是一步步搭建整个程序网络的。</p>

<h1 id="section-1">简单程序</h1>

<pre><code>epaFile=open("epaData.csv","rU")

for line in epaFile:
	if 'FERRARI' in line:
		print line[:75]
</code></pre>

<h1 id="section-2">生成通车里程列表</h1>

<pre><code>#we find out the number of the car of running the miles
#we use  split(',') to separate the csv value

def creatMileageList(epaFile):
	mileageList=[]
	for line in epaFile:
		lineList=line.split(',')
		mileageList.append(lineList[9])
	return mileageList
		

epaFile=open("epaData.csv","rU")

mileageList=creatMileageList(epaFile)

print mileageList
</code></pre>

<h1 id="section-3">找出通车里程列表中的最大值和最小值</h1>

<pre><code># we further transfer the character into integer
# also ignore the class value of the first line with continue function
#continue can move into the next line without add it into the List
#when we get that done we can use max and min function to get the extreme value

def creatMileageList(epaFile):
	mileageList=[]
	for line in epaFile:
		if line[0:5] == "CLASS":
			continue
		lineList=line.split(',')
		temp=int(lineList[9])
		mileageList.append(temp)
	return mileageList
		

epaFile=open("epaData.csv","rU")

mileageList=creatMileageList(epaFile)

maxMileage=max(mileageList)
minMileage=min(mileageList)

print "The Max and Min in the List is:",maxMileage,minMileage 

</code></pre>

<h1 id="section-4">在找出最大值和最小值的基础上在对应相应的制造商</h1>

<pre><code># in this case we want to also find the car trafe of the max and min Mileage
# to avoid the other visit of all the value 
# we append two value together to get another list of truple

def creatMileageList(epaFile):
	mileageList=[]
	for line in epaFile:
		if line[0:5] == "CLASS" or "VAN" in line or "PICKUP" in line:
			continue
		lineList=line.split(',')
		temp=int(lineList[9])
		carTruple=(temp,lineList[1],lineList[2])
		mileageList.append(carTruple)
	return mileageList
		

epaFile=open("epaData.csv","rU")

mileageList=creatMileageList(epaFile)

maxMileage=max(mileageList)
minMileage=min(mileageList)

print "The Max and Min in the List is:",maxMileage,minMileage 

</code></pre>

<h1 id="section-5">找出全部的数据</h1>

<p>之所以会有这一步的原因在于Python默认返回的是所有最小最大值中的第一个。</p>

<p>所以我们构建一个列表，再次遍历列表找到相应的元素后添加。</p>

<p>同时对于元组构成的列表，为了美观，我们同样使用遍历的方法打印出列表中的，每一个元素。</p>

<pre><code>#in this programe we want to find all the case that has the max or min value in the carMileageList
# this is because the min/max function in Python only return back the 
# first found case in the list that has the same value

def creatMileageList(epaFile):
	mileageList=[]
	for line in epaFile:
		if line[0:5] == "CLASS" or "VAN" in line or "PICKUP" in line:
			continue
		lineList=line.split(',')
		temp=int(lineList[9])
		carTuple=(temp,lineList[1],lineList[2])
		mileageList.append(carTuple)
	return mileageList

def FindMaxMinMileage(mileageList,maxMileage,minMileage):
	maxMileageList=[]
	minMileageList=[]
	for carTuple in mileageList:
		if carTuple[0]==maxMileage:
			maxMileageList.append(carTuple)
		if carTuple[0]==minMileage:
			minMileageList.append(carTuple)
	return maxMileageList,minMileageList
	

epaFile=open("epaData.csv","rU")

mileageList=creatMileageList(epaFile)


maxMileage=max(mileageList)[0]
minMileage=min(mileageList)[0]


print "The Max and Min in the List is:",maxMileage,minMileage 

maxMileageList,minMileageList=FindMaxMinMileage(mileageList,maxMileage,minMileage)

#Note the print of Tuple must use visit style to get 
#You can get nothing with only the print function

print "Maximum Mileage Cars:"

for carTuple in maxMileageList:
	print " " ,carTuple[1],carTuple[2]

print "Minimum Mileage Cars:"
for carTuple in minMileageList:
	print " ",carTuple[1],carTuple[2]
</code></pre>

<p><img src="/images/Python/epa/tu7.png" alt="tu15" /></p>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">waventropy</span></span>

      








  


<time datetime="2013-01-17T09:35:00+08:00" pubdate data-updated="true">Jan 17<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/python/'>Python</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
  <div class="bshare-custom"><a title="分享到QQ空间" class="bshare-qzone"></a><a title="分享到新浪微博" class="bshare-sinaminiblog"></a><a title="分享到人人网" class="bshare-renren"></a><a title="分享到腾讯微博" class="bshare-qqmb"></a><a title="分享到豆瓣" class="bshare-douban"></a><a title="更多平台" class="bshare-more bshare-more-icon more-style-addthis"></a><span class="BSHARE_COUNT bshare-share-count">0</span></div><script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/buttonLite.js#style=-1&amp;uuid=df8ae713-f93c-44fa-bcca-e825292d4075&amp;pophcol=3&amp;lang=zh"></script><script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/bshareC0.js"></script>
  </div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/01/13/pythonwcgrahy/" title="Previous Post: Python编程12——Python作葛底斯堡演讲的词频统计图">&laquo; Python编程12——Python作葛底斯堡演讲的词频统计图</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/01/17/pythongoogleprice/" title="Next Post: Python分析Google股价数据">Python分析Google股价数据 &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/08/12/guan-yu-iypt-and-nypt-and-jsyptde-jie-shao/">关于IYPT、NYPT、JSYPT的介绍</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/10/train/">新生购买火车票总结</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/06/acem/">Advanced Computing in Electron Microscopy配套软件的使用</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/26/nan-da-tu-shu-guan-jie-shu-ji-lu/">南大图书馆借书记录</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/28/da-xue-hui-gu/">大学回顾</a>
      </li>
    
  </ul>
</section>






<section>
  <h1>新浪微博</h1>
  <ul id="weibo">
    <li>
      <iframe 
        width="100%" 
        height="550" 
        class="share_self" 
        frameborder="0" 
        scrolling="no" 
        src="http://widget.weibo.com/weiboshow/index.php?width=0&height=550&ptype=1&speed=0&skin=&isTitle=0&noborder=1&isWeibo=1&isFans=&uid=1277230715&verifier=56d0f8c9">
      </iframe>
    </li>
  </ul>
</section>

<section>
<h1>My Douban</h1>
<div>
<script type="text/javascript" src="http://www.douban.com/service/badge/61573619/?show=collection&amp;n=8&amp;columns=2" ></script>
</div>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - waventropy -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'iphyersblog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://iphyer.github.com/blog/2013/01/17/pythonepafind/';
        var disqus_url = 'http://iphyer.github.com/blog/2013/01/17/pythonepafind/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
